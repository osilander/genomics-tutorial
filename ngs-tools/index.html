

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2. Tool installation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/seb.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3. Quality control" href="../ngs-qc/index.html" />
    <link rel="prev" title="1. Introduction" href="../introduction.html" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-121349593-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-121349593-1');
</script>


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Genomics Tutorial
          

          
            
            <img src="../_static/icon.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2019.03
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">1. Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. Tool installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#install-the-conda-package-manager">2.1. Install the conda package manager</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#update-bashrc-and-zshrc-config-files">2.1.1. Update <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code> and <code class="docutils literal notranslate"><span class="pre">.zshrc</span></code> config-files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installing-conda-channels-to-make-tools-available">2.1.2. Installing conda channels to make tools available</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#create-environments">2.2. Create environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-software">2.3. Install software</a></li>
<li class="toctree-l2"><a class="reference internal" href="#general-conda-commands">2.4. General conda commands</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ngs-qc/index.html">3. Quality control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ngs-assembly/index.html">4. Genome assembly</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ngs-mapping/index.html">5. Read mapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ngs-taxonomic-investigation/index.html">6. Taxonomic investigation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ngs-variantcalling/index.html">7. Variant calling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ngs-annotation/index.html">8. Genome annotation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ngs-orthology/index.html">9. Orthology and Phylogeny</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ngs-voi/index.html">10. Variants-of-interest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickref.html">11. Quick command reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code.html">12. Coding solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../downloads.html">13. Downloads</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Genomics Tutorial</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>2. Tool installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tool-installation">
<span id="id1"></span><h1>2. Tool installation<a class="headerlink" href="#tool-installation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="install-the-conda-package-manager">
<h2>2.1. Install the conda package manager<a class="headerlink" href="#install-the-conda-package-manager" title="Permalink to this headline">¶</a></h2>
<p>We will use the package/tool managing system <a class="reference external" href="http://conda.pydata.org/miniconda.html">conda</a> to install some programs
that we will use during the course.
It is not installed by default, thus we need to install it first to be able to use it.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># download latest conda installer</span>
curl -O https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh

<span class="c1"># run the installer</span>
bash Miniconda3-latest-Linux-x86_64.sh

<span class="c1"># delete the installer after successful run</span>
rm Miniconda3-latest-Linux-x86_64.sh
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Should the conda installer download fail. Please find links to alternative locations on the
<a class="reference internal" href="../downloads.html"><span class="doc">Downloads</span></a> page.</p>
</div>
<div class="section" id="update-bashrc-and-zshrc-config-files">
<h3>2.1.1. Update <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code> and <code class="docutils literal notranslate"><span class="pre">.zshrc</span></code> config-files<a class="headerlink" href="#update-bashrc-and-zshrc-config-files" title="Permalink to this headline">¶</a></h3>
<p>Before we are able to use <a class="reference external" href="http://conda.pydata.org/miniconda.html">conda</a> we need to tell our shell where it can find the program.
We add the right path to the <a class="reference external" href="http://conda.pydata.org/miniconda.html">conda</a> installation to our shell config files:</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="s1">&#39;export PATH=&quot;/home/manager/miniconda3/bin:$PATH&quot;&#39;</span> <span class="o">&gt;&gt;</span> <span class="o">~/.</span><span class="n">bashrc</span>
<span class="n">echo</span> <span class="s1">&#39;export PATH=&quot;/home/manager/miniconda3/bin:$PATH&quot;&#39;</span> <span class="o">&gt;&gt;</span> <span class="o">~/.</span><span class="n">zshrc</span>
</pre></div>
</div>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">The above assumes that your username is “manager”, which is the default on a Biolinux install.
Replace “manager” with your actual username.
Find out with <code class="docutils literal notranslate"><span class="pre">whoami</span></code>.</p>
</div>
<p>So what is actually happening here? We are appending a line to a file (either <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code> or <code class="docutils literal notranslate"><span class="pre">.zshrc</span></code>).
If we are starting a new command-line shell, either file gets executed first (depending on which shell you are using, either bash or zsh shells).
What this line does, is to put permanently the directory <code class="docutils literal notranslate"><span class="pre">~/miniconda3/bin</span></code> first on your <code class="docutils literal notranslate"><span class="pre">PATH</span></code> variable.
The <code class="docutils literal notranslate"><span class="pre">PATH</span></code> variable contains directories in which our computer looks for installed programs, one directory after the other until the program you requested is found (or not, then it will complain).
Through the addition of the above line we make sure that the program <code class="docutils literal notranslate"><span class="pre">conda</span></code> can be found anytime we open a new shell.</p>
<p>Close shell/terminal, <strong>re-open</strong> new shell/terminal.
Now, we should be able to use the <a class="reference external" href="http://conda.pydata.org/miniconda.html">conda</a> command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda update conda
</pre></div>
</div>
</div>
<div class="section" id="installing-conda-channels-to-make-tools-available">
<h3>2.1.2. Installing conda channels to make tools available<a class="headerlink" href="#installing-conda-channels-to-make-tools-available" title="Permalink to this headline">¶</a></h3>
<p>Different tools are packaged in what <a class="reference external" href="http://conda.pydata.org/miniconda.html">conda</a> calls channels.
We need to add some channels to make the bioinformatics and genomics tools
available for installation:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Install some conda channels</span>
<span class="c1"># A channel is where conda looks for packages</span>
conda config --add channels defaults
conda config --add channels conda-forge
conda config --add channels bioconda
</pre></div>
</div>
</div>
</div>
<div class="section" id="create-environments">
<h2>2.2. Create environments<a class="headerlink" href="#create-environments" title="Permalink to this headline">¶</a></h2>
<p>We create a <a class="reference external" href="http://conda.pydata.org/miniconda.html">conda</a> environment for some tools.
This is useful to work <strong>reproducible</strong> as we can easily re-create the tool-set with the same version numbers later on.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda create -n ngs <span class="nv">python</span><span class="o">=</span><span class="m">3</span>
<span class="c1"># activate the environment</span>
conda activate ngs
</pre></div>
</div>
<p>So what is happening when you type <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">activate</span> <span class="pre">ngs</span></code> in a shell.
The <code class="docutils literal notranslate"><span class="pre">PATH</span></code> variable (mentioned above) gets temporarily manipulated and set to:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ conda activate ngs
<span class="c1"># Lets look at the content of the PATH variable</span>
<span class="o">(</span>ngs<span class="o">)</span> $ <span class="nb">echo</span> <span class="nv">$PATH</span>
/home/manager/miniconda3/envs/ngs/bin:/home/manager/miniconda3/bin:/usr/local/bin: ...
</pre></div>
</div>
<p>Now it will look first in your environment’s bin directory but afterwards in the general conda bin (/home/manager/miniconda3/bin).
So basically everything you install generally with conda (without being in an environment) is also available to you but gets overshadowed if a similar program is in <code class="docutils literal notranslate"><span class="pre">/home/manager/miniconda3/envs/ngs/bin</span></code> and you are in the <code class="docutils literal notranslate"><span class="pre">ngs</span></code> environment.</p>
</div>
<div class="section" id="install-software">
<h2>2.3. Install software<a class="headerlink" href="#install-software" title="Permalink to this headline">¶</a></h2>
<p>To install software into the activated environment, one uses the command <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># install more tools into the environment</span>
conda install package
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To tell if you are in the correct conda environment, look at the command-prompt.
Do you see the name of the environment in round brackets at the very beginning of the prompt, e.g. (ngs)?
If not, activate the <code class="docutils literal notranslate"><span class="pre">ngs</span></code> environment with <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">activate</span> <span class="pre">ngs</span></code> before installing the tools.</p>
</div>
</div>
<div class="section" id="general-conda-commands">
<h2>2.4. General conda commands<a class="headerlink" href="#general-conda-commands" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># to search for packages</span>
conda search <span class="o">[</span>package<span class="o">]</span>

<span class="c1"># To update all packages</span>
conda update --all --yes

<span class="c1"># List all packages installed</span>
conda list <span class="o">[</span>-n env<span class="o">]</span>

<span class="c1"># conda list environments</span>
conda env list

<span class="c1"># create new env</span>
conda create -n <span class="o">[</span>name<span class="o">]</span> package <span class="o">[</span>package<span class="o">]</span> ...

<span class="c1"># activate env</span>
conda activate <span class="o">[</span>name<span class="o">]</span>

<span class="c1"># deavtivate env</span>
conda deactivate
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../ngs-qc/index.html" class="btn btn-neutral float-right" title="3. Quality control" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../introduction.html" class="btn btn-neutral" title="1. Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2019, Sebastian Schmeier (https://sschmeier.com).
      Last updated on Mar 28, 2019.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'2019.03',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>